// 자격증 타입 정의
export type Certification = '전기기사' | '신재생에너지발전설비기사(태양광)' | '소방설비기사(전기)';

// 자격증 목록
export const CERTIFICATIONS: Certification[] = [
    '전기기사',
    '신재생에너지발전설비기사(태양광)',
    '소방설비기사(전기)'
];

// 자격증별 과목 매핑
export const CERTIFICATION_SUBJECTS: Record<Certification, string[]> = {
    '전기기사': [
        '전기자기학',
        '전력공학',
        '전기기기',
        '회로이론 및 제어공학',
        '전기설비기술기준 및 판단기준'
    ],
    '신재생에너지발전설비기사(태양광)': [
        '태양광발전 기획',
        '태양광발전 설계',
        '태양광발전 시공',
        '태양광발전 운영'
    ],
    '소방설비기사(전기)': [
        '소방원론',
        '소방전기 일반',
        '소방관계법규',
        '소방전기시설의 구조 및 원리'
    ]
};

// 과목별 주제 매핑
export const SUBJECT_TOPICS: Record<string, string[]> = {
    // 전기기사 과목들
    "전기자기학": [
        "벡터",
        "진공중의 정전계",
        "진공중의 도체계",
        "유전체",
        "전계의 특수해법",
        "정자계",
        "자성체와 자기회로",
        "인덕턴스",
        "전자유도",
        "전자장"
    ],
    "전력공학": [
        "송전선로",
        "선로정수 및 복도체와 코로나",
        "송전선로의 특성값계산",
        "전력계통의 안정도",
        "고장해석",
        "중성점 접지방식",
        "이상전압",
        "유도장해",
        "배전선로",
        "수력발전",
        "화력발전",
        "원자력발전"
    ],
    "전기기기": [
        "직류기",
        "동기기",
        "변압기",
        "유도기",
        "정류기",
        "교류정류자기",
        "반도체",
        "특수기기"
    ],
    "회로이론 및 제어공학": [
        "직류회로",
        "정현파교류",
        "기본교류회로",
        "교류전력",
        "유도결합회로",
        "벡터궤적",
        "선형회로망",
        "대칭좌표법",
        "비정현파교류",
        "2단자망",
        "4단자망",
        "분포정수회로",
        "라플라스 변환",
        "전달함수",
        "제어기",
        "안정도"
    ],
    "전기설비기술기준 및 판단기준": [
        "총칙",
        "저압, 고압, 특고압 전기설비",
        "발전소, 변전소, 개폐소 등의 전기설비",
        "전선로",
        "옥배내선 및 조명설비",
        "전기철도설비 및 분산형 전원설비"
    ],
    
    // 신재생에너지발전설비기사(태양광) 과목들
    "태양광발전 기획": [
        "설비용량 조사",
        "사업환경분석",
        "부지 환경조사",
        "사업부지 인허가 검토",
        "허가",
        "사업 경제성 분석"
    ],
    "태양광발전 설계": [
        "토목설계",
        "구조물 설계",
        "어레이 설계",
        "계통연계장치 설계",
        "시스템 감리",
        "도면작성"
    ],
    "태양광발전 시공": [
        "토목공사",
        "구조물시공",
        "전기시설 공사",
        "장치 준공검사"
    ],
    "태양광발전 운영": [
        "발전시스템 운영",
        "발전시스템 유지",
        "시스템 안전관리"
    ],

    // 소방설비기사(전기) 과목들
    "소방원론": [
        "연소이론",
        "화재현상",
        "위험물 안전관리",
        "소방안전 일반"
    ],
    "소방전기 일반": [
        "전기회로",
        "전기기기",
        "제어회로",
        "전자회로"
    ],
    "소방관계법규": [
        "소방기본법",
        "화재의 예방 및 안전관리",
        "소방시설 설치 및 관리",
        "소방시설 공사업법",
        "위험물안전관리법"
    ],
    "소방전기시설의 구조 및 원리": [
        "비상경보설비 및 단독경보형감지기",
        "비상방송설비",
        "자동화재탐지설비 및 시각경보장치",
        "자동화재속보설비",
        "누전경보기",
        "유도등 및 유도표지",
        "비상조명 및 비상콘센트",
        "무선통신보조설비"
    ]
};

// Keyword overrides for topic classification organized by 자격증 -> 과목 -> 토픽
type TopicKeywordOverrideMap = Partial<Record<Certification, Record<string, Record<string, string[]>>>>;

export const TOPIC_KEYWORD_OVERRIDES: TopicKeywordOverrideMap = {
    '신재생에너지발전설비기사(태양광)': {
        '태양광발전 기획': {
            '설비용량 조사': [
                '응용분석',
                '어레이 이격거리',
                '발전 설비용량',
                '모듈',
                '인버터',
                '모듈의 온도계수 특성',
                '태양전지',
                '태양광발전 모듈',
                '전력변환장치',
                '전력저장 장치',
                '바이패스 소자',
                '역류방지 소자',
                '접속반',
                '교류측 기기',
                '변압기',
                '축전지',
                '피뢰소자 등'
            ],
            '사업환경 분석': [
                '일조시간',
                '일조량',
                '위도',
                '경도',
                '방위',
                '고도각',
                '설치 가능여부 조사',
                '주변 환경조건',
                '기후자료 분석'
            ],
            '부지환경조사': [
                '부지',
                '타당성 검토',
                '부지 조사',
                '발전부지',
                '면적',
                '공부서류',
                '서류 검토'
            ],
            '사업부지 인허가 검토': [
                '전기사업법령',
                '전기공사업법령',
                '전기(발전)사업 허가 기준',
                '국토의 계획',
                '법령',
                '신에너지',
                '재생에너지 개발이용',
                '보급',
                '촉진법령',
                '설비 지원',
                '규정 및 지침',
                '공급의무화제도',
                '관리',
                '운영 지침'
            ],
            '허가': [
                '전기사업신청서',
                '송전관계일람도',
                '인허가 법령',
                '개발행위',
                '인허가',
                '관련기관 인허가',
                '제반서류',
                '첨부서류 준비'
            ],
            '사업 경제성 분석': [
                '사업비',
                '경제성',
                '부하설비용량',
                '전력설비 손실',
                '태양광발전시스템 이용률 등'
            ]
        },
        '태양광발전 설계': {
            '토목설계': [
                '토목설계도서',
                '토목측량 및 지반조사도서',
                '토목설계도면'
            ],
            '구조물 설계': [
                '구조물 기초',
                '구조 설계도서',
                '구조계산서',
                '구조물 형식',
                '안전성',
                '시공성',
                '내구성을 고려한 도서 검토'
            ],
            '어레이 설계': [
                '모듈 배선',
                '전기설비기술기준',
                '한국전기설비규정',
                '직병렬 계산',
                '모듈 배치',
                '전압강하',
                '전선 선정',
                '어레이',
                '출력전압 특성',
                '직류측 구성기기 선정'
            ],
            '계통연계장치 설계': [
                '수배전반 설계도서 작성',
                '분산형전원 계통연계 기술기준',
                '교류측 구성기기 선정',
                '전기실 면적 산정',
                '방범시스템',
                '방재시스템',
                '모니터링 시스템 등'
            ],
            '도면작성': [
                '전기도면 관련 기호',
                '토목도면 관련 기호',
                '건축도면 관련 기호',
                '설계도서의 종류',
                '시방서의 개념',
                '시방서의 작성요령',
                '설계도의 개념',
                '설계도의 작성요령'
            ]
        },
        '태양광발전 시공': {
            '토목공사': [
                '설계도면의 해석',
                '토목 시공 기준',
                '사용자재의 규격',
                '시방서 검토',
                '공정관리',
                '토목설계 내역 검토',
                '시공계획서 검토',
                '시공 상태 적합성',
                '공사현장 환경관리 등'
            ],
            '구조물시공':[
                '구조물 설치',
                '구조물 형태',
                '시공 형태'
            ],
            '전기시설 공사': [
                '발전량', 
                '입출력 상태 확인',
                '인버터와 제어장치 설치',
                '수배전반 설치',
                '계통 연계 시공',
                '전기실 건축물 시공',
                '전기 및 위험물 관련 법규 등',
                '전기 기초 이론',
                '전자 기초 이론',
                '송전설비 기초 이론',
                '배전설비 기초 이론',
                '변전설비 기초 이론',
                '배관 시공',
                '배선 시공',
                '케이블트레이 시공',
                '덕트 시공 등'
            ],
            '장치 준공검사': [
                '보호계전기 특성 및 동작성 시험',
                '접지 및 절연저항',
                '보호장치 종류 및 시설조건',
                '안전진단 절차 및 설비',
                '단락전류 및 지락전류',
                '낙뢰 보호설비 등',
                '사용전 검사 준비',
                '항목별 세부검사 및 동작시험 등'
            ]
        },
        '태양광발전 운영': {
            '발전시스템 운영': [
                '설비점검 체크리스트',
                '설치된 발전설비 부품의 성능검사 등',
                '발전설비 설치 확인 등',
                '발전시스템 점검 방법과 시기',
                '태양광 모니터링 시스템',
                '발전시스템 운영 관리 계획',
                '발전시스템 비정상 운영 시 대처 및 조치 등',
                '사업개시 신고 등',
                'SMP 및 REC 정산관리 등',
                '전기 안전관리자 선임 등'
            ],
            '발전시스템 유지': [
                '태양광발전 모듈·어레이 측정 및 점검',
                '토목시설물 점검',
                '접속반 인버터 주변 기기·장치 점검',
                '운전 정지 조작 시험준공도면 검토',
                '준공도면 검토 등',
                '일상점검 항목 및 점검요령',
                '정기점검 항목 및 점검요령',
                '발전설비 유지관리',
                '송전설비 유지관리',
                '태양광발전 시스템 고장원인',
                '태양광발전 시스템 문제진단',
                '고장별 조치방법',
                '유지관리 매뉴얼'
            ],
            '시스템 안전관리': [
                '안전교육의 시행과 훈련',
                '안전관리 조직 운영 등',
                '설비 안전관리',
                '설비보존계획',
                '작업 중 안전대책 등',
                '구조 안전관리',
                '구조물 시공 절차와 방법',
                '전자지변에 따른 구조상 안전계획',
                '안전관련 법규 등',
                '안전장비 종류',
                '안전장비 보관요령'
            ]
        }
    }
};

// 모든 과목 목록 (하위 호환성)
export const subjects = Object.keys(SUBJECT_TOPICS);

// 자격증별 과목 가져오기 헬퍼 함수
export const getSubjectsByCertification = (certification: Certification): string[] => {
    return CERTIFICATION_SUBJECTS[certification] || [];
};
